<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ìŠ¤ë§ˆíŠ¸ ëŒ€ì‹œë³´ë“œ ë‹¬ë ¥</title>
  <style>
    /* ê¸°ë³¸ ë£¨íŠ¸ ë³€ìˆ˜ */
    :root { 
      --primary-color: #4834d4; 
      --bg-color: #f8f9fa; 
      --holiday-bg: #ffecec; 
      --edit-focus-bg: #fffbe6;
    }

    body { 
      font-family: 'Segoe UI', Arial, sans-serif; 
      background-color: var(--bg-color); 
      margin: 0; 
      padding: 20px; 
    }

    .container { 
      max-width: 800px; 
      margin: 40px auto; 
      background: white; 
      padding: 30px; 
      border-radius: 20px; 
      box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
      text-align: center; 
    }

    /* ğŸ“¦ ìƒë‹¨ ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
    .top-section { margin-bottom: 20px; }

    /* ê³µí†µ ìˆ˜ì • ê°€ëŠ¥ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
    .editable-box {
      cursor: text;
      transition: all 0.2s;
      outline: none;
    }
    .editable-box:hover { opacity: 0.8; }
    .editable-box:focus { 
      background-color: var(--edit-focus-bg) !important; 
      box-shadow: 0 0 0 3px rgba(72, 52, 212, 0.2);
    }

    /* 1. ìƒë‹¨ ì œëª© ë°•ìŠ¤ */
    .title-box {
      background-color: #f1f2f6;
      border: 2px solid #dfe4ea;
      border-radius: 12px;
      padding: 15px;
      font-size: 1.5rem;
      font-weight: bold;
      color: #2f3542;
      margin-bottom: 20px;
    }

    /* ì•„ë˜ ë‘ ë°•ìŠ¤ ë ˆì´ì•„ì›ƒ */
    .flex-container { display: flex; gap: 20px; justify-content: center; }

    /* 2. ì™¼ìª½ Hello ë°•ìŠ¤ */
    .hello-box {
      flex: 1;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 10px;
      color: #4834d4;
      font-family: 'Courier New', Courier, monospace;
      font-weight: 800;
      font-size: 1.2rem;
      font-style: italic;
      text-decoration: underline;
      background-color: white;
    }

    /* 3. ì˜¤ë¥¸ìª½ Word ë°•ìŠ¤ */
    .word-box {
      flex: 1;
      padding: 15px;
      border-radius: 10px;
      background-color: #6c5ce7;
      color: white;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* ğŸ“… ë‹¬ë ¥ í—¤ë” ë° í…Œì´ë¸” */
    .calendar-header { display: flex; justify-content: space-between; align-items: center; margin: 20px 0; }
    .nav-btn { background: #eee; border: none; padding: 8px 15px; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.2s; }
    .nav-btn:hover { background: var(--primary-color); color: white; }
    #current-month-year { font-size: 1.5rem; font-weight: bold; color: #333; }

    .calendar { width: 100%; border-collapse: collapse; table-layout: fixed; margin-bottom: 20px; border-radius: 10px; overflow: hidden; }
    .calendar th, .calendar td { border: 1px solid #f1f1f1; padding: 15px 5px; text-align: center; position: relative; }
    .calendar th { background-color: #f2f2f2; font-weight: bold; }
    .calendar td { cursor: pointer; height: 65px; vertical-align: top; transition: 0.2s; }
    .calendar td:hover:not(.empty) { background: #fdfdfd; transform: scale(1.01); }

    .sun { color: #e74c3c; } 
    .sat { color: #0984e3; }
    .holiday { color: red !important; font-weight: bold; background-color: var(--holiday-bg) !important; }
    .empty { background: #fafafa; cursor: default; }
    .today { background: #fffbe6 !important; border: 2px solid #f1c40f !important; }

    .memo-dot { display: block; width: 6px; height: 6px; background: #6c5ce7; border-radius: 50%; margin: 5px auto 0; }
    .memo-section { background: #f1f2f6; padding: 15px; border-radius: 12px; margin-top: 20px; display: none; }
    #memo-input { width: 80%; padding: 10px; border-radius: 5px; border: 1px solid #ddd; margin-bottom: 10px; }
    .btn-save { background: var(--primary-color); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
    .btn-delete { background-color: #ff7675; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; transition: 0.2s; }
    .btn-delete:hover { background-color: #d63031; }

  </style>
</head>
<body>

  <div class="container">
    <div id="weather-info" style="text-align: right; font-size: 0.9rem; color: #666; margin-bottom: 10px;">ğŸ“ ì˜¤ëŠ˜ ë‚ ì”¨: ë§‘ìŒ ğŸŒ¤ï¸</div>
    <h1>My Workspace ğŸš€</h1>

    <div class="top-section">
      <div id="main-title" class="title-box editable-box" contenteditable="true" spellcheck="false">
        ğŸ“… 2026 Monthly Planner & Memo
      </div>
      <div class="flex-container">
        <div id="sub-hello" class="hello-box editable-box" contenteditable="true" spellcheck="false">
          HELLO
        </div>
        <div id="sub-word" class="word-box editable-box" contenteditable="true" spellcheck="false">
          WORD
        </div>
      </div>
    </div>

    <div class="calendar-header">
      <button class="nav-btn" onclick="changeMonth(-1)">ì´ì „ ë‹¬</button>
      <span id="current-month-year"></span>
      <button class="nav-btn" onclick="changeMonth(1)">ë‹¤ìŒ ë‹¬</button>
    </div>

    <table class="calendar">
      <thead>
        <tr><th class="sun">ì¼</th><th>ì›”</th><th>í™”</th><th>ìˆ˜</th><th>ëª©</th><th>ê¸ˆ</th><th class="sat">í† </th></tr>
      </thead>
      <tbody id="calendar-body"></tbody>
    </table>

    <div id="memo-section" class="memo-section">
      <h3 id="selected-date-display"></h3>
      <input type="text" id="memo-input" placeholder="ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”...">
      <div>
        <button class="btn-save" onclick="saveMemo()">ì €ì¥</button>
        <button class="btn-delete" onclick="deleteMemo()">ì‚­ì œ</button>
      </div>
    </div>
  </div>

  <script>
    const holidays = { "2026-1-1": "ì‹ ì •", "2026-2-16": "ì„¤ë‚  ì—°íœ´", "2026-2-17": "ì„¤ë‚ ", "2026-2-18": "ì„¤ë‚  ì—°íœ´", "2026-3-1": "ì‚¼ì¼ì ˆ", "2026-5-5": "ì–´ë¦°ì´ë‚ ", "2026-5-24": "ë¶€ì²˜ë‹˜ì˜¤ì‹ ë‚ ", "2026-6-6": "í˜„ì¶©ì¼", "2026-8-15": "ê´‘ë³µì ˆ", "2026-10-3": "ê°œì²œì ˆ", "2026-10-9": "í•œê¸€ë‚ ", "2026-12-25": "í¬ë¦¬ìŠ¤ë§ˆìŠ¤" };
    let currentDate = new Date();
    let selectedDateKey = "";

    // ì œëª© ì˜ì—­ ë°ì´í„° ì €ì¥/ë¡œë“œ ë¡œì§
    const editableIDs = ['main-title', 'sub-hello', 'sub-word'];

    function saveTitles() {
      editableIDs.forEach(id => {
        const content = document.getElementById(id).innerText;
        localStorage.setItem('dashboard_' + id, content);
      });
    }

    function loadTitles() {
      editableIDs.forEach(id => {
        const savedData = localStorage.getItem('dashboard_' + id);
        if (savedData) document.getElementById(id).innerText = savedData;
      });
    }

    // ìˆ˜ì • í›„ ë°•ìŠ¤ ë°–ì„ í´ë¦­í•˜ë©´ ì €ì¥
    editableIDs.forEach(id => {
      document.getElementById(id).addEventListener('blur', saveTitles);
    });

    function renderCalendar() {
      const year = currentDate.getFullYear();
      const month = currentDate.getMonth();
      document.getElementById('current-month-year').innerText = `${year}ë…„ ${month + 1}ì›”`;
      const firstDay = new Date(year, month, 1).getDay();
      const totalDays = new Date(year, month + 1, 0).getDate();
      const calendarBody = document.getElementById('calendar-body');
      
      calendarBody.innerHTML = '';
      let html = '';
      let day = 1;

      for (let i = 0; i < 6; i++) {
        let row = '<tr>';
        let rowHasDay = false;
        for (let j = 0; j < 7; j++) {
          const cellIndex = i * 7 + j;
          if (cellIndex < firstDay || day > totalDays) {
            row += '<td class="empty"></td>';
          } else {
            const dateKey = `${year}-${month + 1}-${day}`;
            const isToday = new Date().toLocaleDateString() === new Date(year, month, day).toLocaleDateString();
            const isHoliday = holidays[dateKey];
            let classes = [];
            if (j === 0 || isHoliday) classes.push('sun');
            if (j === 6) classes.push('sat');
            if (isHoliday) classes.push('holiday');
            if (isToday) classes.push('today');
            
            const hasMemo = localStorage.getItem(dateKey);
            row += `<td class="${classes.join(' ')}" onclick="openMemo('${dateKey}')">
                      ${day}${isToday ? ' ğŸŒ¤ï¸' : ''}
                      ${hasMemo ? '<span class="memo-dot"></span>' : ''}
                      ${isHoliday ? `<div style="font-size:10px;">${isHoliday}</div>` : ''}
                    </td>`;
            day++; rowHasDay = true;
          }
        }
        row += '</tr>';
        if (rowHasDay) html += row;
      }
      calendarBody.innerHTML = html;
    }

    function changeMonth(delta) { 
      currentDate.setMonth(currentDate.getMonth() + delta); 
      renderCalendar(); 
      document.getElementById('memo-section').style.display = 'none'; 
    }

    function openMemo(dateKey) { 
      selectedDateKey = dateKey; 
      document.getElementById('memo-section').style.display = 'block'; 
      document.getElementById('selected-date-display').innerText = `${dateKey.replace(/-/g, '. ')} ë©”ëª¨`; 
      document.getElementById('memo-input').value = localStorage.getItem(dateKey) || ''; 
    }

    function saveMemo() { 
      const text = document.getElementById('memo-input').value; 
      if (text.trim() === '') localStorage.removeItem(selectedDateKey); 
      else localStorage.setItem(selectedDateKey, text); 
      alert('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!'); 
      renderCalendar(); 
    }

    function deleteMemo() { 
      if (confirm("ì‚­ì œí• ê¹Œìš”?")) { 
        localStorage.removeItem(selectedDateKey); 
        document.getElementById('memo-input').value = ""; 
        alert('ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤!'); 
        renderCalendar(); 
      } 
    }

    window.onload = () => {
      loadTitles();
      renderCalendar();
    };
  </script>
</body>
</html>
