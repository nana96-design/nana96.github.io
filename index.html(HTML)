<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë‚´ ê°œì¸ í™ˆí˜ì´ì§€ - ìŠ¤ë§ˆíŠ¸ ë‹¬ë ¥</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="container">
    <h1>My Workspace ğŸš€</h1>
    
    <div class="calendar-header">
      <button class="nav-btn" onclick="changeMonth(-1)">ì´ì „ ë‹¬</button>
      <span id="current-month-year"></span>
      <button class="nav-btn" onclick="changeMonth(1)">ë‹¤ìŒ ë‹¬</button>
    </div>

    <table class="calendar">
      <thead>
        <tr>
          <th class="sun">ì¼</th><th>ì›”</th><th>í™”</th><th>ìˆ˜</th><th>ëª©</th><th>ê¸ˆ</th><th class="sat">í† </th>
        </tr>
      </thead>
      <tbody id="calendar-body"></tbody>
    </table>

    <div id="memo-section" class="memo-section">
      <h3 id="selected-date-display"></h3>
      <input type="text" id="memo-input" placeholder="ì´ë‚ ì˜ í•  ì¼ì„ ì ì–´ë³´ì„¸ìš”...">
      <button class="btn-save" onclick="saveMemo()">ì €ì¥í•˜ê¸°</button>
    </div>
  </div>

  <script>
    // 2026ë…„ ê³µíœ´ì¼ ë°ì´í„°
    const holidays = {
      "2026-1-1": "ì‹ ì •", "2026-2-16": "ì„¤ë‚  ì—°íœ´", "2026-2-17": "ì„¤ë‚ ",
      "2026-2-18": "ì„¤ë‚  ì—°íœ´", "2026-3-1": "ì‚¼ì¼ì ˆ", "2026-5-5": "ì–´ë¦°ì´ë‚ ",
      "2026-5-24": "ë¶€ì²˜ë‹˜ì˜¤ì‹ ë‚ ", "2026-6-6": "í˜„ì¶©ì¼", "2026-8-15": "ê´‘ë³µì ˆ",
      "2026-10-3": "ê°œì²œì ˆ", "2026-10-9": "í•œê¸€ë‚ ", "2026-12-25": "í¬ë¦¬ìŠ¤ë§ˆìŠ¤"
    };

    let currentDate = new Date();
    let selectedDateKey = "";

    function renderCalendar() {
      const year = currentDate.getFullYear();
      const month = currentDate.getMonth();
      document.getElementById('current-month-year').innerText = `${year}ë…„ ${month + 1}ì›”`;
      
      const firstDay = new Date(year, month, 1).getDay();
      const totalDays = new Date(year, month + 1, 0).getDate();
      const calendarBody = document.getElementById('calendar-body');
      
      calendarBody.innerHTML = '';
      let html = '';
      let day = 1;

      for (let i = 0; i < 6; i++) {
        let row = '<tr>';
        let rowHasDay = false;
        for (let j = 0; j < 7; j++) {
          const cellIndex = i * 7 + j;
          if (cellIndex < firstDay || day > totalDays) {
            row += '<td class="empty"></td>';
          } else {
            const dateKey = `${year}-${month + 1}-${day}`;
            const isToday = new Date().toLocaleDateString() === new Date(year, month, day).toLocaleDateString();
            const isHoliday = holidays[dateKey];
            
            let classes = [];
            if (j === 0 || isHoliday) classes.push('sun');
            if (j === 6) classes.push('sat');
            if (isHoliday) classes.push('holiday');
            if (isToday) classes.push('today');

            const hasMemo = localStorage.getItem(dateKey);
            const memoHtml = hasMemo ? '<span class="memo-dot"></span>' : '';

            row += `<td class="${classes.join(' ')}" onclick="openMemo('${dateKey}')">
                      ${day}${memoHtml}
                      ${isHoliday ? `<div style="font-size:10px;">${isHoliday}</div>` : ''}
                    </td>`;
            day++;
            rowHasDay = true;
          }
        }
        row += '</tr>';
        if (rowHasDay) html += row;
      }
      calendarBody.innerHTML = html;
    }

    function changeMonth(delta) {
      currentDate.setMonth(currentDate.getMonth() + delta);
      renderCalendar();
      document.getElementById('memo-section').style.display = 'none';
    }

    function openMemo(dateKey) {
      selectedDateKey = dateKey;
      document.getElementById('memo-section').style.display = 'block';
      document.getElementById('selected-date-display').innerText = `${dateKey.replace(/-/g, '. ')} ë©”ëª¨`;
      document.getElementById('memo-input').value = localStorage.getItem(dateKey) || '';
    }

    function saveMemo() {
      const memoText = document.getElementById('memo-input').value;
      if (memoText.trim() === '') localStorage.removeItem(selectedDateKey);
      else localStorage.setItem(selectedDateKey, memoText);
      alert('ë©”ëª¨ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
      renderCalendar();
    }

    renderCalendar();
  </script>
</body>
</html>
